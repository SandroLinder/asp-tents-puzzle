# Tents Puzzle ASP Solver

## Puzzle

Tents (sometimes known as "Tents and Trees") is a popular logic puzzle. According
to https://wpcunofficial.miraheze.org/wiki/Tents it was first published by LÃ©on Balmaekers with the Dutch name "Alle
Ballen Verzamelen" in 1989.

Rules:

* Place tents on the grid, so that each tree has a unique horizontally or vertically adjacent tent. This also means that
  no tent can "serve" more than one tree.
* Tents should not be adjacent to each other (neither horizontally, nor vertically, and also not diagonally).
* The given numbers for rows and columns have be equal to the number of placed tents in the respective row or column.

## Input Format

The puzzle input files need to be provided in this format:

```
5 10
.......... 0
......T... 2
..T...T... 0
.......... 1
.......... 0
0 0 1 0 0 0 1 1 0 0
```

In this example 5 is the number of rows, 10 is the number of columns. The numbers at the end of each row is the number
of tents that need to be placed in this row. The numbers in the last row are the number of tents that need to be placed
in each column. The dots represent the free spaces, where a tent could be placed. The T's represent the trees.

## Solver

Requirements:

* python3
* clingo CLI tool

### parse_tents.py

Parameters:

```
-p: Required.  Path to the puzzle file.
```

### render_output.py

Parameters:

```
-s: Required. Path to the solution file.
-p: Required. Path to the puzzle file.
```

This python script takes the puzzle and the solution and renders the output like this:

```
..........
..#...T#..
..T...T...
......#...
..........
```

### asp_tents_solution.lp

This file contains the domain for the tents puzzle.

### How to solve a puzzle?

First convert the puzzle into the input format mentioned [here](#input-format). Create a file and save the converted
puzzle.
Use the parse_tents.py script to convert the puzzle into the ASP format by calling:

```shell
python3 parse_tents.py -p <path_to_puzzle>
```

This command creates a input.lp file in the base directory. With this file call this command:

```shell
clingo asp_tents_solution.lp input.lp
```
Optional:
Copy the tentAt values from the output of the command above and save it into a file. (Important: needs to be saved in a
single line
see example solutions in example/solutions folder)

Then use this command to render the solution:
```shell
python3 render_output.py -p <path_to_puzzle> -s <path_to_solution_file>
```

Output will look like described [here](#render_outputpy)

## Examples

This folder contains example inputs taken from https://www.puzzle-tents.com/ and https://www.brainbashers.com/tents.asp.

The converted puzzles can be found in the puzzles' folder. The input folder contains these puzzles converted into the
ASP clingo syntax that was generated by the parse_tents.py file. The solution folder contains the solutions that the
solver produced for the different puzzles.
